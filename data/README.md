# 存入 取出

不論是哪一個程式，目的都是一致的：根據我們的需要來組織資料。資料並不是隻有隨機的位元和位元組。我們需要在多個代表現實中的事物或者實體的元素之間建立關係。如果我們知道一個名字和一個電子郵件同屬於一個人的話，我們就能得到更有意義的東西。

生活中，有很多同種類的實體也存在著不同。一個人可能有一個座機號碼，而另一個人可能只有手機號碼，當然有的人還會同時擁有兩者。有的人有三個郵箱地址，有的則可能一個都沒有。一個西班牙人可能有兩個姓，但是我們可能就只有一個姓。

面向物件程式語言之所以受到大家歡迎，其中一個原因就是物件能幫助我們去代替現實生活中的複雜的實體。

但是當我們儲存這些實體時就會出現問題。通常，我們把我們的資料儲存在關聯式資料庫的列(columns)與行(rows)中，這相當於在電子表格中排列我們的資料。這樣我們物件本來的靈活性就不復存在了。

但是，如果我們就單純地把物件儲存為物件呢？相比於在電子錶中的各種限制，我們應該重新著眼於**使用**資料。把物件本來應有的靈活性找回來。

**物件(object)**是特定語言(language-specific)，包含資料(in-memory)的資料結構。通過網路傳送或者儲存它，我們需要一個標準格式來代表它。[JSON (JavaScript Object Notation)](http://baike.baidu.com/view/136475.htm?fr=aladdin)這是一種可讀文字的物件形式。它已經成為NoSQL世界中的標準。當一個物件被序列化到JSON時，它就被成為**JSON檔案**了。

Elasticsearch 是一個分散式**檔案**儲存器。它可以實時地儲存並檢索複雜的資料結構（被序列化後的JSON檔案）。換句話說，當檔案被儲存到Elasticsearch 後，它就可以被叢集中的任意節點搜尋了。

當然，我們不但需要儲存資料，還需要能夠**大量快速**地進行查詢。雖然已經有很多的NoSQL解決方案，可以讓我們將物件儲存為檔案，但是他們還是需要我們去考慮如何查詢我們的資料以及哪些欄位需要我們來做索引，以便快速搜尋。

在Elasticsearch中，**每一個欄位**都會預設被建立索引。也就是說，每一個欄位都會有一個反向索引以便快速搜尋。而且，與大多數其他資料庫不同的是ES可以在**同一個查詢中**使用所有的反向索引，以驚人的速度返回查詢結果。

在本章中，我們將探討如何使用API來建立、搜尋、更新、刪除檔案。目前，我們並不用關心資料是如何儲存在檔案中的，我們只需要關心我們的檔案是如何被安全地儲存在Elasticsearch中以及我們如何能再次獲取到他們就可以了。

