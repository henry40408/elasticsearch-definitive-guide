# 檔案是什麼？

在很多程式中，大部分實體或者物件都被序列化為包含鍵和值的JSON物件。**鍵**是一個**欄位**或者**屬性**的名字，**值**可以是一個字元串、數字、布爾值、物件、陣列或者是其他的特殊類型，比如代表日期的字元串或者代表地理位置的物件：

```js
{
    "name":         "John Smith",
    "age":          42,
    "confirmed":    true,
    "join_date":    "2014-06-01",
    "home": {
        "lat":      51.5,
        "lon":      0.1
    },
    "accounts": [
        {
            "type": "facebook",
            "id":   "johnsmith"
        },
        {
            "type": "twitter",
            "id":   "johnsmith"
        }
    ]
}
```
通常情況下，我們使用可以互換物件和檔案。然而，還是有一個區別的。物件(object )僅僅是一個JSON物件,類似於雜湊，雜湊對映，字典或關聯陣列。物件(Objects)則可以包含其他物件(Objects)。

在Elasticsearch中，**檔案**這個單詞有特殊的含義。它指的是在Elasticsearch中被儲存到唯一ID下的由最高階或者_根物件 (root object )_序列化而來的JSON。



## 檔案後設資料

一個檔案不只包含了資料。它還包含了_後設資料(metadata)_ —— **關於**檔案的資訊。有三個後設資料元素是必須存在的，它們是：

| 名字 | 說明 |
| -- | -- |
| `_index` | 檔案儲存的地方 |
| `_type` | 檔案代表的物件種類 |
| `_id` | 檔案的唯一編號 |


## `_index`

_索引_ 類似於傳統資料庫中的"資料庫"——也就是我們儲存並且索引相關資料的地方。

***
> ####TIP：

在Elasticsearch中，我們的資料都在_分片_中被儲存以及索引，索引只是一個邏輯名稱空間，它可以將一個或多個分片組合在一起。然而，這只是一個內部的運作原理——我們的程式可以根本不用關心分片。對於我們的程式來說，我們的檔案儲存在索引中。剩下的交給Elasticsearch就可以了。
***

我們將會在《索引管理》章節中探討如何建立並管理索引。但是現在，我們只需要讓Elasticsearch幫助我們建立索引。我們只需要選擇一個索引的名字。這個名稱必須要全部小寫，也不能以下劃線開頭，不能包含逗號。我們可以用`website`作為我們索引的名字。

## `_type`

在程式中，我們使用物件代表“物品”，比如一個使用者、一篇博文、一條留言或者一個郵件。每一個物件都屬於一種_類型_，類型定義了物件的屬性或者與資料的關聯。**使用者**類的物件可能就會包含名字、性別、年齡以及郵箱地址等。

在傳統的資料庫中，我們總是將同類的資料儲存在同一個表中，因為它們的資料格式是相同的。同理，在Elasticsearch中，我們使用同樣_類型_的檔案來代表同類“事物”，也是因為它們的資料結構是相同的。

每一個_類型_都擁有自己的對映(mapping)或者結構定義，它們定義了當前類型下的資料結構，類似於資料庫表中的列。所有類型下的檔案會被儲存在同一個索引下，但是_對映_會告訴Elasticsearch不同的資料應該如何被索引。

我們將會在《對映》中探討如何制定或者管理對映，但是目前為止，我們只需要依靠Elasticsearch來自動處理資料結構。


## `_id`

_id_是一個字元串，當它與`_index`以及`_type`組合時，就可以來代表Elasticsearch中一個特定的檔案。我們建立了一個新的檔案時，你可以自己提供一個`_id`，或者也可以讓Elasticsearch幫你生成一個。

### 其他後設資料

在檔案中還有一些其他的後設資料，我們將會在《對映》章節中詳細講解。使用上面羅列的元素，我們已經可以在Elasticsearch中儲存檔案或者通過ID來搜尋已經儲存的檔案了。
